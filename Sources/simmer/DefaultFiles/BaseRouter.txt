import Vapor
import FormattedResponse

func routes(_ app: Application) throws {
    app.get { (request: Request) async throws ->  Response in
        let view = try await request.view.render("index")

        return try await makeResponse {
            request
            FormattedResponse(type: .html, view: view)
            FormattedResponse(type: .json, content: ["Hello": "World!", "intro": "Welcome to your Vapor application, generated by Simmer"])
        }
    }
}
